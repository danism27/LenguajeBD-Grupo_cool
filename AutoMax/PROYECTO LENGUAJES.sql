-- DROP TABLE VEHICULOS;
-- DROP TABLE ESTADOS_VEHICULOS;
-- DROP TABLE MARCAS;
-- DROP TABLE REPUESTOS;
-- DROP TABLE OFICINAS;
-- DROP TABLE TIPOS_VEHICULOS;
-- DROP TABLE ESTADOS_VEHICULOS;
-- DROP TABLE TIPOS_VEHICULOS;
-- DROP TABLE MODELOS;
-- DROP TABLE CLIENTE;
-- DROP TABLE PROVEEDORES;
-- DROP TABLE TALLERES;
-- DROP TABLE DETALLE_FACTURA;
-- DROP TABLE FACTURAS;
-- DROP TABLE SERVICIOS;

CREATE TABLE OFICINAS(
	ID_OFICINA INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	NOMBRE_OFICINA VARCHAR2 (50) NOT NULL,
	FECHA_REGISTRO DATE NOT NULL,
	CONSTRAINT PK_OFICINAS PRIMARY KEY (ID_OFICINA)
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA PRINCIPAL',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA SECUNDARIA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA TERCERIA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA CUARTA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA QUINTA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA SEXTA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA SEPTIMA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA OCTAVA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA NOVENA',
	SYSDATE
);

INSERT INTO OFICINAS (
	NOMBRE_OFICINA,
	FECHA_REGISTRO
) VALUES (
	'OFICINA DECIMA',
	SYSDATE
);

CREATE TABLE TIPOS_VEHICULOS(
	ID_TIPO_VEHICULO INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	PLACA VARCHAR2(100) NOT NULL,
	TIPO_VEHICULO VARCHAR2(100),
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_TIPOS_VEHICULOS PRIMARY KEY (ID_TIPO_VEHICULO)
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-124',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-127',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-128',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-129',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-130',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-131',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-132',
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO TIPOS_VEHICULOS (
	PLACA,
	TIPO_VEHICULO,
	NOMBRE_USUARIO
) VALUES (
	'ABC-133',
	'VEHICULO',
	'ADMINISTRADOR'
);

CREATE TABLE ESTADOS_VEHICULOS(
	ID_ESTADO_VEHICULO INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	PLACA VARCHAR2(100) NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	ESTADO_VEHICULO VARCHAR2(100),
	CONSTRAINT PK_ESTADOS_VEHICULOS PRIMARY KEY (ID_ESTADO_VEHICULO)
);

INSERT INTO ESTADOS_VEHICULOS (
	PLACA,
	NOMBRE_USUARIO,
	ESTADO_VEHICULO
) VALUES (
	'ABC-124',
	'ADMINISTRADOR',
	'VEHICULO'
);

INSERT INTO ESTADOS_VEHICULOS (
	PLACA,
	NOMBRE_USUARIO,
	ESTADO_VEHICULO
) VALUES (
	'ABC-127',
	'ADMINISTRADOR',
	'VEHICULO'
);

INSERT INTO ESTADOS_VEHICULOS (
	PLACA,
	NOMBRE_USUARIO,
	ESTADO_VEHICULO
) VALUES (
	'ABC-128',
	'ADMINISTRADOR',
	'VEHICULO'
);

INSERT INTO ESTADOS_VEHICULOS (
	PLACA,
	NOMBRE_USUARIO,
	ESTADO_VEHICULO
) VALUES (
	'ABC-129',
	'ADMINISTRADOR',
	'VEHICULO'
);

INSERT INTO ESTADOS_VEHICULOS (
	PLACA,
	NOMBRE_USUARIO,
	ESTADO_VEHICULO
) VALUES (
	'ABC-130',
	'ADMINISTRADOR',
	'VEHICULO'
);

INSERT INTO ESTADOS_VEHICULOS (
	PLACA,
	NOMBRE_USUARIO,
	ESTADO_VEHICULO
) VALUES (
	'ABC-131',
	'ADMINISTRADOR',
	'VEHICULO'
);

CREATE TABLE MODELOS(
	ID_MODELO INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	COD_MODELO INTEGER NOT NULL,
	NOMBRE_MODELO VARCHAR2(100) NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_MODELOS PRIMARY KEY (ID_MODELO)
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	1,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	2,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	3,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	4,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	5,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	6,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MODELOS (
	COD_MODELO,
	NOMBRE_MODELO,
	NOMBRE_USUARIO
) VALUES (
	7,
	'VEHICULO',
	'ADMINISTRADOR'
);

CREATE TABLE MARCAS(
	ID_MARCA INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	COD_MARCA INTEGER NOT NULL,
	NOMBRE_MARCA VARCHAR2(100) NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_MARCAS PRIMARY KEY (ID_MARCA)
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	1,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	2,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	3,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	4,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	5,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	6,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	7,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	8,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	9,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	10,
	'VEHICULO',
	'ADMINISTRADOR'
);

INSERT INTO MARCAS (
	COD_MARCA,
	NOMBRE_MARCA,
	NOMBRE_USUARIO
) VALUES (
	11,
	'VEHICULO',
	'ADMINISTRADOR'
);

CREATE TABLE VEHICULOS(
	ID_VEHICULO INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	NUM_PLACA INTEGER NOT NULL,
	COD_TIPO_VEHICULO INTEGER NOT NULL,
	COD_ESTADO_VEHICULO INTEGER NOT NULL,
	FECHA_REGISTRO DATE NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_VEHICULOS PRIMARY KEY (ID_VEHICULO)
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	1,
	1,
	1,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	2,
	2,
	2,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	3,
	3,
	3,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	4,
	4,
	4,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	5,
	5,
	5,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	6,
	6,
	6,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	7,
	7,
	7,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	8,
	8,
	8,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	9,
	9,
	9,
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO VEHICULOS (
	NUM_PLACA,
	COD_TIPO_VEHICULO,
	COD_ESTADO_VEHICULO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	10,
	10,
	10,
	SYSDATE,
	'ADMINISTRADOR'
);

CREATE TABLE REPUESTOS(
	ID_REPUESTO INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	COD_REPUESTO INTEGER NOT NULL,
	NOMBRE_REPUESTO VARCHAR2(100) NOT NULL,
	FECHA_REGISTRO DATE NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_REPUESTOS PRIMARY KEY (ID_REPUESTO)
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	1,
	'FILTRO DE ACEITE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	2,
	'FILTRO DE AIRE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	3,
	'FILTRO DE COMBUSTIBLE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	4,
	'FILTRO DE ACEITE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	5,
	'FILTRO DE AIRE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	6,
	'FILTRO DE COMBUSTIBLE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	7,
	'FILTRO DE ACEITE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	8,
	'FILTRO DE AIRE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	9,
	'FILTRO DE COMBUSTIBLE',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO REPUESTOS (
	COD_REPUESTO,
	NOMBRE_REPUESTO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	10,
	'FILTRO DE ACEITE',
	SYSDATE,
	'ADMINISTRADOR'
);

CREATE TABLE CLIENTE (
	ID_CLIENTE INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	NOMBRE_CLIENTE VARCHAR2(100) NOT NULL,
	PRIMER_APELLIDO_CLIENTE VARCHAR2(100) NOT NULL,
	SEGUNDO_APELLIDO_CLIENTE VARCHAR2(100) NOT NULL,
	IDENTIFICACION_CLIENTE INTEGER NOT NULL,
	TIPO_CLIENTE VARCHAR2(100) NOT NULL,
	CONSTRAINT PK_CLIENTES PRIMARY KEY (ID_CLIENTE)
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	1,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	2,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	3,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	4,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	5,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	6,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	7,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	8,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	9,
	'NATURAL'
);

INSERT INTO CLIENTE (
	NOMBRE_CLIENTE,
	PRIMER_APELLIDO_CLIENTE,
	SEGUNDO_APELLIDO_CLIENTE,
	IDENTIFICACION_CLIENTE,
	TIPO_CLIENTE
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	10,
	'NATURAL'
);

CREATE TABLE PROVEEDORES(
	ID_PROVEEDOR INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	NOMBRE_PROVEEDOR VARCHAR2(100) NOT NULL,
	PRIMER_APELLIDO_PROVEEDOR VARCHAR2(100) NOT NULL,
	SEGUNDO_APELLIDO_PROVEEDOR VARCHAR2(100) NOT NULL,
	IDENTIFICACION_PROVEEDOR INTEGER NOT NULL,
	TIPO_PROVEEDOR VARCHAR2(100) NOT NULL,
	CONSTRAINT PK_PROVEEDORES PRIMARY KEY (ID_PROVEEDOR)
);

INSERT INTO PROVEEDORES (
	NOMBRE_PROVEEDOR,
	PRIMER_APELLIDO_PROVEEDOR,
	SEGUNDO_APELLIDO_PROVEEDOR,
	IDENTIFICACION_PROVEEDOR,
	TIPO_PROVEEDOR
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	10,
	'NATURAL'
);

INSERT INTO PROVEEDORES (
	NOMBRE_PROVEEDOR,
	PRIMER_APELLIDO_PROVEEDOR,
	SEGUNDO_APELLIDO_PROVEEDOR,
	IDENTIFICACION_PROVEEDOR,
	TIPO_PROVEEDOR
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	2,
	'NATURAL'
);

INSERT INTO PROVEEDORES (
	NOMBRE_PROVEEDOR,
	PRIMER_APELLIDO_PROVEEDOR,
	SEGUNDO_APELLIDO_PROVEEDOR,
	IDENTIFICACION_PROVEEDOR,
	TIPO_PROVEEDOR
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	3,
	'NATURAL'
);

INSERT INTO PROVEEDORES (
	NOMBRE_PROVEEDOR,
	PRIMER_APELLIDO_PROVEEDOR,
	SEGUNDO_APELLIDO_PROVEEDOR,
	IDENTIFICACION_PROVEEDOR,
	TIPO_PROVEEDOR
) VALUES (
	'PEDRO',
	'PEREZ',
	'PEREZ',
	4,
	'NATURAL'
);

INSERT INTO PROVEEDORES (
	NOMBRE_PROVEEDOR,
	PRIMER_APELLIDO_PROVEEDOR,
	SEGUNDO_APELLIDO_PROVEEDOR,
	IDENTIFICACION_PROVEEDOR,
	TIPO_PROVEEDOR
) VALUES (
	'JUAN',
	'PEREZ',
	'PEREZ',
	5,
	'NATURAL'
);

CREATE TABLE TALLERES(
	ID_TALLER INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	NOMBRE_TALLER VARCHAR2(100) NOT NULL,
	UBICACION_TALLER VARCHAR2(100) NOT NULL,
	FECHA_REGISTRO DATE NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_TALLERES PRIMARY KEY (ID_TALLER)
);

INSERT INTO TALLERES (
	NOMBRE_TALLER,
	UBICACION_TALLER,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	'TALLER 1',
	'BOGOTA',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO TALLERES (
	NOMBRE_TALLER,
	UBICACION_TALLER,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	'TALLER 2',
	'BOGOTA',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO TALLERES (
	NOMBRE_TALLER,
	UBICACION_TALLER,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	'TALLER 3',
	'BOGOTA',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO TALLERES (
	NOMBRE_TALLER,
	UBICACION_TALLER,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	'TALLER 4',
	'BOGOTA',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO TALLERES (
	NOMBRE_TALLER,
	UBICACION_TALLER,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	'TALLER 5',
	'BOGOTA',
	SYSDATE,
	'ADMINISTRADOR'
);

CREATE TABLE SERVICIOS(
	ID_SERVICIO INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	COD_SERVICIO INTEGER NOT NULL,
	NOMBRE_SERVICIO VARCHAR2(100) NOT NULL,
	FECHA_REGISTRO DATE NOT NULL,
	NOMBRE_USUARIO VARCHAR2(100),
	CONSTRAINT PK_SERVICIOS PRIMARY KEY (ID_SERVICIO)
);

INSERT INTO SERVICIOS (
	COD_SERVICIO,
	NOMBRE_SERVICIO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	1,
	'SERVICIO 1',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO SERVICIOS (
	COD_SERVICIO,
	NOMBRE_SERVICIO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	2,
	'SERVICIO 2',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO SERVICIOS (
	COD_SERVICIO,
	NOMBRE_SERVICIO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	3,
	'SERVICIO 3',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO SERVICIOS (
	COD_SERVICIO,
	NOMBRE_SERVICIO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	4,
	'SERVICIO 4',
	SYSDATE,
	'ADMINISTRADOR'
);

INSERT INTO SERVICIOS (
	COD_SERVICIO,
	NOMBRE_SERVICIO,
	FECHA_REGISTRO,
	NOMBRE_USUARIO
) VALUES (
	5,
	'SERVICIO 5',
	SYSDATE,
	'ADMINISTRADOR'
);


CREATE TABLE FACTURAS(
	ID_FACTURA INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	NUM_FACTURA INTEGER NOT NULL,
	FECHA_FACTURA DATE NOT NULL,
	VALOR_FACTURA INTEGER NOT NULL,
	CONSTRAINT PK_FACTURAS PRIMARY KEY (ID_FACTURA)
);

INSERT INTO FACTURAS (
	NUM_FACTURA,
	FECHA_FACTURA,
	VALOR_FACTURA
) VALUES (
	1,
	SYSDATE,
	100000
);

INSERT INTO FACTURAS (
	NUM_FACTURA,
	FECHA_FACTURA,
	VALOR_FACTURA
) VALUES (
	2,
	SYSDATE,
	200000
);

INSERT INTO FACTURAS (
	NUM_FACTURA,
	FECHA_FACTURA,
	VALOR_FACTURA
) VALUES (
	3,
	SYSDATE,
	300000
);

INSERT INTO FACTURAS (
	NUM_FACTURA,
	FECHA_FACTURA,
	VALOR_FACTURA
) VALUES (
	4,
	SYSDATE,
	400000
);

INSERT INTO FACTURAS (
	NUM_FACTURA,
	FECHA_FACTURA,
	VALOR_FACTURA
) VALUES (
	5,
	SYSDATE,
	500000
);



CREATE TABLE DETALLE_FACTURA(
	ID_DETALLE_FACTURA INTEGER GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
	ID_FACTURA INTEGER NOT NULL,
	ID_REPUESTO INTEGER NOT NULL,
	ID_SERVICIO INTEGER NOT NULL,
	CANTIDAD_REPUESTO INTEGER NOT NULL,
	CANTIDAD_SERVICIO INTEGER NOT NULL,
	CONSTRAINT PK_DETALLE_FACTURA PRIMARY KEY (ID_DETALLE_FACTURA),
	CONSTRAINT FK_DETALLE_FACTURA_FACTURAS FOREIGN KEY (ID_FACTURA) REFERENCES FACTURAS(ID_FACTURA),
	CONSTRAINT FK_DETALLE_FACTURA_REPUESTOS FOREIGN KEY (ID_REPUESTO) REFERENCES REPUESTOS(ID_REPUESTO),
	CONSTRAINT FK_DETALLE_FACTURA_SERVICIOS FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIOS(ID_SERVICIO)
);




INSERT INTO DETALLE_FACTURA (
	ID_FACTURA,
	ID_REPUESTO,
	ID_SERVICIO,
	CANTIDAD_REPUESTO,
	CANTIDAD_SERVICIO
) VALUES (
	1,
	1,
	1,
	1,
	1
);

INSERT INTO DETALLE_FACTURA (
	ID_FACTURA,
	ID_REPUESTO,
	ID_SERVICIO,
	CANTIDAD_REPUESTO,
	CANTIDAD_SERVICIO
) VALUES (
	2,
	2,
	2,
	2,
	2
);

INSERT INTO DETALLE_FACTURA (
	ID_FACTURA,
	ID_REPUESTO,
	ID_SERVICIO,
	CANTIDAD_REPUESTO,
	CANTIDAD_SERVICIO
) VALUES (
	3,
	3,
	3,
	3,
	3
);

INSERT INTO DETALLE_FACTURA (
	ID_FACTURA,
	ID_REPUESTO,
	ID_SERVICIO,
	CANTIDAD_REPUESTO,
	CANTIDAD_SERVICIO
) VALUES (
	4,
	4,
	4,
	4,
	4
);


INSERT INTO DETALLE_FACTURA (
	ID_FACTURA,
	ID_REPUESTO,
	ID_SERVICIO,
	CANTIDAD_REPUESTO,
	CANTIDAD_SERVICIO
) VALUES (
	5,
	5,
	5,
	5,
	5
);

--VIEWS

CREATE VIEW VISTA_DETALLE_FACTURA AS
SELECT
	DF.ID_DETALLE_FACTURA,
	DF.ID_FACTURA,
	DF.ID_REPUESTO,
	DF.ID_SERVICIO,
	DF.CANTIDAD_REPUESTO,
	DF.CANTIDAD_SERVICIO,
	R.COD_REPUESTO,
	R.NOMBRE_REPUESTO,
	R.FECHA_REGISTRO,
	R.NOMBRE_USUARIO,
	S.COD_SERVICIO,
	S.NOMBRE_SERVICIO
FROM
	DETALLE_FACTURA DF
INNER JOIN REPUESTOS R ON DF.ID_REPUESTO = R.ID_REPUESTO
INNER JOIN SERVICIOS S ON DF.ID_SERVICIO = S.ID_SERVICIO;

CREATE VIEW VISTA_FACTURAS AS
SELECT
	F.ID_FACTURA,
	F.NUM_FACTURA,
	F.FECHA_FACTURA,
	F.VALOR_FACTURA,
	DF.ID_DETALLE_FACTURA,
	DF.ID_REPUESTO,
	DF.ID_SERVICIO,
	DF.CANTIDAD_REPUESTO,
	DF.CANTIDAD_SERVICIO
FROM
	FACTURAS F
INNER JOIN DETALLE_FACTURA DF ON F.ID_FACTURA = DF.ID_FACTURA


create or replace procedure PROC_INSERTAR_FACTURA(
	NUM_FACTURA IN INTEGER,
	FECHA_FACTURA IN DATE,
	VALOR_FACTURA IN INTEGER,
	ID_REPUESTO IN INTEGER,
	ID_SERVICIO IN INTEGER,
	CANTIDAD_REPUESTO IN INTEGER,
	CANTIDAD_SERVICIO IN INTEGER
) AS
BEGIN
	INSERT INTO FACTURAS (
		NUM_FACTURA,
		FECHA_FACTURA,
		VALOR_FACTURA
	) VALUES (
		NUM_FACTURA,
		FECHA_FACTURA,
		VALOR_FACTURA
	);
	
	INSERT INTO DETALLE_FACTURA (
		ID_FACTURA,
		ID_REPUESTO,
		ID_SERVICIO,
		CANTIDAD_REPUESTO,
		CANTIDAD_SERVICIO
	) VALUES (
		(SELECT MAX(ID_FACTURA) FROM FACTURAS),
		ID_REPUESTO,
		ID_SERVICIO,
		CANTIDAD_REPUESTO,
		CANTIDAD_SERVICIO
	);
END;

create or replace procedure PROC_INSERTAR_FACTURA(
	NUM_FACTURA IN INTEGER,
	FECHA_FACTURA IN DATE,
	VALOR_FACTURA IN INTEGER,
	ID_REPUESTO IN INTEGER,
	ID_SERVICIO IN INTEGER,
	CANTIDAD_REPUESTO IN INTEGER,
	CANTIDAD_SERVICIO IN INTEGER
) AS
BEGIN
	INSERT INTO FACTURAS (
		NUM_FACTURA,
		FECHA_FACTURA,
		VALOR_FACTURA
	) VALUES (
		NUM_FACTURA,
		FECHA_FACTURA,
		VALOR_FACTURA
	);
	
	INSERT INTO DETALLE_FACTURA (
		ID_FACTURA,
		ID_REPUESTO,
		ID_SERVICIO,
		CANTIDAD_REPUESTO,
		CANTIDAD_SERVICIO
	) VALUES (
		(SELECT MAX(ID_FACTURA) FROM FACTURAS),
		ID_REPUESTO,
		ID_SERVICIO,
		CANTIDAD_REPUESTO,
		CANTIDAD_SERVICIO
	);
END;

-- CREAR TRIGER POR ACTUALIZACION DE TABLA FACTURAS

CREATE OR REPLACE TRIGGER TRIG_FACTURAS
AFTER UPDATE OF VALOR_FACTURA ON FACTURAS
FOR EACH ROW
BEGIN
	UPDATE DETALLE_FACTURA SET
		CANTIDAD_REPUESTO = :NEW.VALOR_FACTURA,
		CANTIDAD_SERVICIO = :NEW.VALOR_FACTURA
	WHERE ID_FACTURA = :NEW.ID_FACTURA;
END;

-- CREAR TRIGER POR ACTUALIZACION DE TABLA DETALLE_FACTURA
CREATE OR REPLACE TRIGGER TRIG_DETALLE_FACTURA
AFTER UPDATE OF CANTIDAD_REPUESTO ON DETALLE_FACTURA
FOR EACH ROW
BEGIN
	UPDATE FACTURAS SET
		VALOR_FACTURA = :NEW.CANTIDAD_REPUESTO
	WHERE ID_FACTURA = :NEW.ID_FACTURA;
END;

